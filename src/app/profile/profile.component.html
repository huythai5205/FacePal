<div class="container animated fadeIn">
  <div class="row">
    <div class="col s12 m6">
      <div class="card">
        <div class="card-title white-text center-align">
          <h4>{{customer.firstName}} profile</h4>
        </div>

        <div class="card-content">
          <form (ngSubmit)="onSubmit()" #signUpForm="ngForm" [ngFormOptions]="{updateOn: 'change'}">

            <input placeholder="First Name" type="text" name="firstName" [(ngModel)]="customer.firstName" #firstName="ngModel">

            <input placeholder="Last Name" type="text" name="lastName" [(ngModel)]="customer.lastName" #lastName="ngModel">

            <input placeholder="Date Of Birth" type="date" name="DOB" [(ngModel)]="customer.DOB" #DOB="ngModel">

            <input placeholder="Email" type="text" name="email" [(ngModel)]="customer.email" #email="ngModel">

            <div *ngIf="isMissingField">
              <h5>Please fill out all fields</h5>
            </div>
            <div *ngIf="isMissingPhoto">
              <h5>Please fill out all fields</h5>
            </div>
            <a class="waves-effect waves-light btn" type="button" (click)="takeAPicture()">Retake Picture</a>

            <button type="submit" class="btn btn-default">Update Info</button>
          </form>
        </div>
      </div>
    </div>

    <br>
    <div class="col s12 m6">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">Your Transactions</span>
          <h6>Amount: $ {{customer.availableFunds}}</h6>
          <table>
            <thead>
              <tr>
                <th>Sender</th>
                <th>Receiver</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tr *ngFor="let T of customer.Transactions">
              <td>{{T.sender}}</td>
              <td>{{T.receiver}}</td>
              <td>{{T.amount}}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Structure -->
<div id="modal1" class="modal">
  <div class="modal-content">
    <div style="text-align:center">
      <div *ngIf="!isPicture">
        <webcam [trigger]="triggerObservable" (imageCapture)="handleImage($event)"></webcam>
        <br/>
        <button id="snapshotBtn" (click)="triggerSnapshot();">Take a Picture</button>
      </div>

      <div class="snapshot" *ngIf="webcamImage && isPicture">
        <img [src]="webcamImage.imageAsDataUrl" />
        <button (click)="isPicture = false">Retake Picture</button>
      </div>
    </div>
  </div>
</div>
